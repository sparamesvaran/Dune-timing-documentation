{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Dune Timing documentation website. Please follow the links in the left-hand side menu to locate the information you are looking for.","title":"Home"},{"location":"FMC-information/","text":"To enable testing and commissioning of the timing system, a timing FPGA mezzanine card(FMC) was designed and fabricated. The FMC has SFP, Ethernet, and U.FL connectors, and can act as either as a timing master or endpoint, depending on the firmware uploaded onto the carrier board FPGA. The following instructions will allow you to set up and control the timing FMC. Pre-requisites: \u00b6 Hardware: \u00b6 Timing FMC hosted on an Enclustra Mars PM3 base board with an Enclustra Mars AX3 FPGA module JTAG cable Linux machine (for control and firmware uploads) running CentOS xxx Software: \u00b6 The ProtoDUNE timing butler (pdtbutler) is a python-based command line tool which provides the functionality to control the timing FMC. The pdt-butler has the following software dependencies: boost libraries (v1.53), python 2.7, and the uhal package (installation instructions can be found from https://ipbus.web.cern.ch/ipbus/doc/user/html/software/installation.html). Installation instructions for the ProtoDUNE timing software \u00b6 To set up the pdtbutler, please execute the following steps on the control machine. Clone the software repository, (ssh key access to gitlab required) git clone https : // github . com / DUNE - DAQ / timing - board - software . git Checkout FMC set-up tag git checkout relval / v6 . 0.0 / b2 Compile the C++ layer make Source the environment source tests / env . sh Firmware \u00b6 The timing firmware repisitory is located here: https://pdts-fw.web.cern.ch/pdts-fw Download the firmware bit file for the FMC which will allow the FMC to behave as a master timing unit wget XXX Using Vivado or an alternative method, connect to the JTAG chain and program the FPGA with the firmware bit file. Configuring the FMC \u00b6 Reset the FMC: pdtbutler io PRIMARY reset Set the time of the FMC master block: pdtbutler mst PRIMARY synctime Configure timing partition 0 pdtbutler mst PRIMARY part 0 configure Check status of timing partition 0 pdtbutler mst PRIMARY part 0 status","title":"FMC information"},{"location":"FMC-information/#pre-requisites","text":"","title":"Pre-requisites:"},{"location":"FMC-information/#hardware","text":"Timing FMC hosted on an Enclustra Mars PM3 base board with an Enclustra Mars AX3 FPGA module JTAG cable Linux machine (for control and firmware uploads) running CentOS xxx","title":"Hardware:"},{"location":"FMC-information/#software","text":"The ProtoDUNE timing butler (pdtbutler) is a python-based command line tool which provides the functionality to control the timing FMC. The pdt-butler has the following software dependencies: boost libraries (v1.53), python 2.7, and the uhal package (installation instructions can be found from https://ipbus.web.cern.ch/ipbus/doc/user/html/software/installation.html).","title":"Software:"},{"location":"FMC-information/#installation-instructions-for-the-protodune-timing-software","text":"To set up the pdtbutler, please execute the following steps on the control machine. Clone the software repository, (ssh key access to gitlab required) git clone https : // github . com / DUNE - DAQ / timing - board - software . git Checkout FMC set-up tag git checkout relval / v6 . 0.0 / b2 Compile the C++ layer make Source the environment source tests / env . sh","title":"Installation instructions for the ProtoDUNE timing software"},{"location":"FMC-information/#firmware","text":"The timing firmware repisitory is located here: https://pdts-fw.web.cern.ch/pdts-fw Download the firmware bit file for the FMC which will allow the FMC to behave as a master timing unit wget XXX Using Vivado or an alternative method, connect to the JTAG chain and program the FPGA with the firmware bit file.","title":"Firmware"},{"location":"FMC-information/#configuring-the-fmc","text":"Reset the FMC: pdtbutler io PRIMARY reset Set the time of the FMC master block: pdtbutler mst PRIMARY synctime Configure timing partition 0 pdtbutler mst PRIMARY part 0 configure Check status of timing partition 0 pdtbutler mst PRIMARY part 0 status","title":"Configuring the FMC"},{"location":"TimingBoardSoftware/","text":"Test","title":"TimingBoardSoftware"}]}